<% layout("layouts/main") %>

<div class="min-h-[calc(100vh-4rem)] flex items-center justify-center py-12 px-4">
  <div class="w-full max-w-md">
    <div class="bg-white/80 backdrop-blur-lg rounded-3xl shadow-2xl border border-white/60 p-8 sm:p-10">

      <%- include("../../partials/auth/header", {
        title: "Reset your password",
        subtitle: "Enter your email address and we'll send you a link to reset your password."
      }) %>

      <%- include("../../partials/auth/alert", { success, error }) %>

      <% if (!success) { %>
      <form method="POST" action="/api/auth/forgot-password" class="space-y-6">
        <%- include("../../partials/form/input", {
            id: "email",
            name: "email",
            type: "email",
            label: "Email address",
            required: true,
            autocomplete: "email",
            placeholder: "you@example.com"
          }) %>

        <div class="pt-2">
          <%- include("../../partials/form/button", {
              type: "submit",
              text: "Send reset link",
              variant: "secondary",
              fullWidth: true,
              size: "lg"
            }) %>
        </div>
      </form>
      <% } else { %>
      <div class="pt-2">
        <a href="/forgot-password" class="inline-flex items-center justify-center w-full px-6 py-3 text-base font-semibold
          rounded-xl bg-sky-600 text-white hover:bg-sky-700
          transition-all focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2">
          Try again
        </a>
      </div>
      <% } %>

      <%- include("../../partials/auth/footer", {
        text: "Remember your password?",
        href: "/signin",
        linkText: "Back to sign in"
      }) %>

    </div>
  </div>
</div>